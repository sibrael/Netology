**Задание 3.**

Изучите файл "proxy.yaml"    
Создайте в репозитории с проектом файл compose.yaml. С помощью директивы "include" подключите к нему файл "proxy.yaml".  
Опишите в файле compose.yaml следующие сервисы:  
web. Образ приложения должен ИЛИ собираться при запуске compose из файла Dockerfile.python ИЛИ скачиваться из yandex cloud container registry(из задание №2 со *). Контейнер должен работать в bridge-сети с названием backend и иметь фиксированный ipv4-адрес 172.20.0.5. Сервис должен всегда перезапускаться в случае ошибок. Передайте необходимые ENV-переменные для подключения к Mysql базе данных по сетевому имени сервиса web  
 
 db. image=mysql:8. Контейнер должен работать в bridge-сети с названием backend и иметь фиксированный ipv4-адрес 172.20.0.10. Явно перезапуск сервиса в случае ошибок. Передайте необходимые ENV-переменные для создания: пароля root пользователя, создания базы данных, пользователя и пароля для web-приложения.Обязательно используйте уже существующий .env file для назначения секретных ENV-переменных!  
 
 Запустите проект локально с помощью docker compose , добейтесь его стабильной работы: команда curl -L http://127.0.0.1:8090 должна возвращать в качестве ответа время и локальный IP-адрес. Если сервисы не стартуют воспользуйтесь командами: docker ps -a  и docker logs <container_name> . Если вместо IP-адреса вы получаете NULL --убедитесь, что вы шлете запрос на порт 8090, а не 5000.  
 
 Подключитесь к БД mysql с помощью команды docker exec <имя_контейнера> mysql -uroot -p<пароль root-пользователя>(обратите внимание что между ключем -u и логином root нет пробела. это важно!!! тоже самое с паролем) . Введите последовательно команды (не забываем в конце символ ; ): show databases; use <имя вашей базы данных(по-умолчанию example)>; show tables; SELECT * from requests LIMIT 10;.  
 
 Остановите проект. В качестве ответа приложите скриншот sql-запроса.
 
![Image alt](https://github.com/sibrael/Netology/blob/0602fb97a795f4c02d453013dd2b6979f4d04df5/docker%20compose1.png)

---

**Задание 4.**  
Запустите в Yandex Cloud ВМ (вам хватит 2 Гб Ram).  
Подключитесь к Вм по ssh и установите docker.  
Напишите bash-скрипт, который скачает ваш fork-репозиторий в каталог /opt и запустит проект целиком.  
Зайдите на сайт проверки http подключений, например(или аналогичный): https://check-host.net/check-http и запустите проверку вашего сервиса http://<внешний_IP-адрес_вашей_ВМ>:8090. Таким образом трафик будет направлен в ingress-proxy. 
 
 ПРИМЕЧАНИЕ: Приложение весьма вероятно упадет под нагрузкой, но успеет обработать часть запросов - этого достаточно.

В качестве ответа повторите sql-запрос и приложите скриншот с данного сервера, bash-скрипт и ссылку на fork-репозиторий.


![Image alt](https://github.com/sibrael/Netology/blob/0602fb97a795f4c02d453013dd2b6979f4d04df5/docker%20compose3.png)
![Image alt](https://github.com/sibrael/Netology/blob/0602fb97a795f4c02d453013dd2b6979f4d04df5/docker%20compose2.png)

---

**Задание 6.**  

Скачайте docker образ hashicorp/terraform:latest и скопируйте бинарный файл /bin/terraform на свою локальную машину, используя dive и docker save. Предоставьте скриншоты действий .
![Image alt](https://github.com/sibrael/Netology/blob/0602fb97a795f4c02d453013dd2b6979f4d04df5/docker%20compose4.png)

---

**Задание 6.1.**

Добейтесь аналогичного результата, используя docker cp.  
Предоставьте скриншоты действий .

![Image alt](https://github.com/sibrael/Netology/blob/0602fb97a795f4c02d453013dd2b6979f4d04df5/docker%20compose5.png)
